<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœåŠ¡å­˜æ´»ç›‘æ§</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f0f2f5;
            color: #333;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 32px;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 8px;
        }

        .header .subtitle {
            font-size: 14px;
            color: #888;
        }

        .summary-bar {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-bottom: 32px;
            flex-wrap: wrap;
        }

        .summary-card {
            background: #fff;
            border-radius: 12px;
            padding: 20px 32px;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
            min-width: 140px;
        }

        .summary-card .number {
            font-size: 36px;
            font-weight: 700;
            line-height: 1.2;
        }

        .summary-card .label {
            font-size: 13px;
            color: #888;
            margin-top: 4px;
        }

        .summary-card.total .number { color: #333; }
        .summary-card.online .number { color: #52c41a; }
        .summary-card.offline .number { color: #ff4d4f; }

        .domain-section {
            background: #fff;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }

        .domain-header {
            padding: 16px 24px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            user-select: none;
        }

        .domain-header:hover {
            background: #fafafa;
        }

        .domain-header .arrow {
            font-size: 12px;
            color: #aaa;
            transition: transform 0.2s;
            margin-right: 8px;
        }

        .domain-header .arrow.collapsed {
            transform: rotate(-90deg);
        }

        .domain-left {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .domain-name {
            font-size: 16px;
            font-weight: 600;
            color: #1a1a1a;
        }

        .domain-stats {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .domain-stats .badge {
            font-size: 12px;
            padding: 2px 10px;
            border-radius: 10px;
            font-weight: 500;
        }

        .badge-online {
            background: #f6ffed;
            color: #52c41a;
            border: 1px solid #b7eb8f;
        }

        .badge-offline {
            background: #fff2f0;
            color: #ff4d4f;
            border: 1px solid #ffccc7;
        }

        .domain-body {
            padding: 0;
        }

        .url-card {
            padding: 16px 24px;
            border-bottom: 1px solid #f5f5f5;
        }

        .url-card:last-child {
            border-bottom: none;
        }

        .url-card-top {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .url-status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .url-status-dot.online {
            background: #52c41a;
            box-shadow: 0 0 6px rgba(82, 196, 26, 0.4);
        }

        .url-status-dot.offline {
            background: #ff4d4f;
            box-shadow: 0 0 6px rgba(255, 77, 79, 0.4);
        }

        .url-status-dot.unknown {
            background: #d9d9d9;
        }

        .url-info {
            flex: 1;
            min-width: 0;
        }

        .url-path {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            word-break: break-all;
        }

        .url-full {
            font-size: 12px;
            color: #aaa;
            margin-top: 2px;
            word-break: break-all;
        }

        .url-meta {
            display: flex;
            align-items: center;
            gap: 16px;
            flex-shrink: 0;
        }

        .url-uptime {
            font-size: 13px;
            font-weight: 600;
            color: #52c41a;
        }

        .url-uptime.low {
            color: #faad14;
        }

        .url-uptime.critical {
            color: #ff4d4f;
        }

        .url-last-check {
            font-size: 12px;
            color: #aaa;
            flex-shrink: 0;
        }

        /* æ—¶é—´çº¿çƒ­åŠ›å›¾ - ä½¿ç”¨canvas */
        .timeline-wrapper {
            position: relative;
            width: 100%;
            margin-top: 4px;
        }

        .timeline-canvas-container {
            width: 100%;
            height: 28px;
            border-radius: 4px;
            overflow: hidden;
            position: relative;
            cursor: crosshair;
        }

        .timeline-canvas-container canvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .timeline-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 4px;
        }

        .timeline-labels span {
            font-size: 10px;
            color: #bbb;
        }

        .timeline-tooltip {
            display: none;
            position: fixed;
            background: rgba(0, 0, 0, 0.85);
            color: #fff;
            font-size: 12px;
            padding: 6px 10px;
            border-radius: 6px;
            white-space: nowrap;
            z-index: 1000;
            pointer-events: none;
            line-height: 1.5;
        }

        /* æ—¥æœŸåˆ†éš”æ ‡è®° */
        .day-markers {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
        }

        .day-marker {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 1px;
            background: rgba(0, 0, 0, 0.06);
        }

        .loading {
            text-align: center;
            padding: 60px;
            color: #aaa;
            font-size: 16px;
        }

        .error-msg {
            text-align: center;
            padding: 60px;
            color: #ff4d4f;
            font-size: 16px;
        }

        .last-update {
            text-align: center;
            margin-top: 20px;
            font-size: 12px;
            color: #bbb;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: #888;
        }

        .legend-color {
            width: 14px;
            height: 14px;
            border-radius: 3px;
        }

        .legend-color.alive { background: #52c41a; }
        .legend-color.dead { background: #ff4d4f; }
        .legend-color.nodata { background: #e8e8e8; }

        @media (max-width: 768px) {
            body {
                padding: 12px;
            }

            .header h1 {
                font-size: 22px;
            }

            .summary-bar {
                gap: 10px;
            }

            .summary-card {
                padding: 14px 18px;
                min-width: 90px;
                flex: 1;
            }

            .summary-card .number {
                font-size: 26px;
            }

            .domain-header {
                padding: 14px 16px;
            }

            .domain-name {
                font-size: 14px;
            }

            .url-card {
                padding: 14px 16px;
            }

            .url-card-top {
                flex-wrap: wrap;
                gap: 8px;
            }

            .url-meta {
                width: 100%;
                justify-content: flex-start;
            }

            .timeline-canvas-container {
                height: 24px;
            }
        }
    </style>
</head>
<body>

<div class="header">
    <h1>ğŸ“¡ æœåŠ¡å­˜æ´»ç›‘æ§</h1>
    <div class="subtitle">æœ€è¿‘ 7 å¤©çš„æœåŠ¡å­˜æ´»æ£€æµ‹è®°å½•ï¼ˆæ¯ 10 åˆ†é’Ÿæ£€æµ‹ä¸€æ¬¡ï¼‰</div>
</div>

<div class="legend">
    <div class="legend-item"><div class="legend-color alive"></div>åœ¨çº¿</div>
    <div class="legend-item"><div class="legend-color dead"></div>ç¦»çº¿</div>
    <div class="legend-item"><div class="legend-color nodata"></div>æ— æ•°æ®</div>
</div>

<div id="summary-bar" class="summary-bar"></div>
<div id="app">
    <div class="loading" id="loading">åŠ è½½ä¸­...</div>
</div>
<div class="last-update" id="last-update"></div>

<!-- å…¨å±€tooltip -->
<div class="timeline-tooltip" id="global-tooltip"></div>

<script>
    (function () {

        // =============================================
        // APIè·¯å¾„è¯†åˆ«
        // =============================================
        function getApiUrl() {
            var pagePath = window.location.pathname;
            var segments = pagePath.split('/');
            var staticIndex = segments.indexOf('static');
            if (staticIndex !== -1) {
                var baseParts = segments.slice(0, staticIndex);
                return baseParts.join('/') + '/api/status';
            }
            var dir = pagePath.substring(0, pagePath.lastIndexOf('/') + 1);
            return dir + 'api/status';
        }

        var apiUrl = getApiUrl();
        var globalTooltip = document.getElementById('global-tooltip');

        // =============================================
        // æ•°æ®è·å–
        // =============================================
        function fetchStatus() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', apiUrl, true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState !== 4) return;
                if (xhr.status === 200) {
                    try {
                        var resp = JSON.parse(xhr.responseText);
                        if (resp.code === 0 || resp.code === 1) {
                            renderData(resp.data);
                        } else {
                            showError('æ¥å£è¿”å›å¼‚å¸¸: ' + (resp.msg || 'æœªçŸ¥é”™è¯¯'));
                        }
                    } catch (e) {
                        showError('è§£æå“åº”å¤±è´¥: ' + e.message);
                    }
                } else {
                    showError('è¯·æ±‚å¤±è´¥ï¼ŒHTTP ' + xhr.status);
                }
            };
            xhr.send();
        }

        function showError(msg) {
            document.getElementById('app').innerHTML = '<div class="error-msg">' + escapeHtml(msg) + '</div>';
        }

        function escapeHtml(str) {
            var div = document.createElement('div');
            div.textContent = str;
            return div.innerHTML;
        }

        // =============================================
        // æ—¶é—´æ§½åŒ–ï¼šå°†7å¤©åˆ†æˆå›ºå®šæ•°é‡çš„æ§½
        // æ¯10åˆ†é’Ÿä¸€ä¸ªæ§½ = 7*24*6 = 1008ä¸ªæ§½
        // =============================================
        var SLOT_COUNT = 1008; // 7å¤© Ã— 24å°æ—¶ Ã— 6ï¼ˆæ¯10åˆ†é’Ÿä¸€ä¸ªï¼‰
        var SLOT_DURATION = 10 * 60 * 1000; // 10åˆ†é’Ÿï¼Œæ¯«ç§’

        function buildSlots(records) {
            var now = Date.now();
            var startTime = now - 7 * 24 * 60 * 60 * 1000;

            // åˆå§‹åŒ–å…¨éƒ¨æ§½ä¸ºnullï¼ˆæ— æ•°æ®ï¼‰
            var slots = new Array(SLOT_COUNT);
            for (var i = 0; i < SLOT_COUNT; i++) {
                slots[i] = null; // null = æ— æ•°æ®, true = åœ¨çº¿, false = ç¦»çº¿
            }

            if (!records || records.length === 0) return { slots: slots, startTime: startTime };

            for (var r = 0; r < records.length; r++) {
                var rec = records[r];
                var t = parseTime(rec.check_time);
                if (t < startTime) continue;
                var idx = Math.floor((t - startTime) / SLOT_DURATION);
                if (idx < 0) idx = 0;
                if (idx >= SLOT_COUNT) idx = SLOT_COUNT - 1;

                // å¦‚æœè¯¥æ§½å·²ç»æœ‰è®°å½•ï¼Œåªè¦æœ‰ä¸€æ¬¡ç¦»çº¿å°±æ ‡è®°ä¸ºç¦»çº¿
                if (slots[idx] === null) {
                    slots[idx] = rec.alive;
                } else if (rec.alive === false) {
                    slots[idx] = false;
                }
            }

            return { slots: slots, startTime: startTime };
        }

        function parseTime(str) {
            // "2026-02-08 00:50:02"
            var parts = str.split(' ');
            var d = parts[0].split('-');
            var t = parts[1].split(':');
            return new Date(
                parseInt(d[0]), parseInt(d[1]) - 1, parseInt(d[2]),
                parseInt(t[0]), parseInt(t[1]), parseInt(t[2])
            ).getTime();
        }

        function calcUptime(records) {
            if (!records || records.length === 0) return null;
            var alive = 0;
            for (var i = 0; i < records.length; i++) {
                if (records[i].alive) alive++;
            }
            return (alive / records.length * 100).toFixed(2);
        }

        // =============================================
        // Canvasç»˜åˆ¶æ—¶é—´çº¿
        // =============================================
        function drawTimeline(canvas, slotData) {
            var slots = slotData.slots;
            var ctx = canvas.getContext('2d');
            var dpr = window.devicePixelRatio || 1;
            var rect = canvas.parentElement.getBoundingClientRect();
            var w = rect.width;
            var h = rect.height;

            canvas.width = w * dpr;
            canvas.height = h * dpr;
            ctx.scale(dpr, dpr);

            var slotWidth = w / SLOT_COUNT;

            for (var i = 0; i < SLOT_COUNT; i++) {
                var x = i * slotWidth;
                var sw = Math.max(slotWidth, 0.5);

                if (slots[i] === true) {
                    ctx.fillStyle = '#52c41a';
                } else if (slots[i] === false) {
                    ctx.fillStyle = '#ff4d4f';
                } else {
                    ctx.fillStyle = '#e8e8e8';
                }
                ctx.fillRect(x, 0, sw + 0.5, h);
            }

            // ç»˜åˆ¶æ—¥æœŸåˆ†éš”çº¿
            var startTime = slotData.startTime;
            ctx.strokeStyle = 'rgba(0,0,0,0.08)';
            ctx.lineWidth = 1;
            for (var d = 1; d <= 6; d++) {
                var dayTime = startTime + d * 24 * 60 * 60 * 1000;
                var dayX = (dayTime - startTime) / (7 * 24 * 60 * 60 * 1000) * w;
                ctx.beginPath();
                ctx.moveTo(Math.round(dayX) + 0.5, 0);
                ctx.lineTo(Math.round(dayX) + 0.5, h);
                ctx.stroke();
            }

            return slotData;
        }

        // =============================================
        // æ—¶é—´çº¿tooltipäº¤äº’
        // =============================================
        function setupTimelineInteraction(container, slotData) {
            container.addEventListener('mousemove', function (e) {
                var rect = container.getBoundingClientRect();
                var x = e.clientX - rect.left;
                var ratio = x / rect.width;
                var idx = Math.floor(ratio * SLOT_COUNT);
                if (idx < 0) idx = 0;
                if (idx >= SLOT_COUNT) idx = SLOT_COUNT - 1;

                var slotTime = slotData.startTime + idx * SLOT_DURATION;
                var slotEndTime = slotTime + SLOT_DURATION;
                var status = slotData.slots[idx];
                var statusText = status === true ? 'âœ… åœ¨çº¿' : (status === false ? 'âŒ ç¦»çº¿' : 'â¬œ æ— æ•°æ®');

                globalTooltip.innerHTML =
                    formatTimestamp(slotTime) + ' ~ ' + formatTimestamp(slotEndTime) +
                    '<br>' + statusText;
                globalTooltip.style.display = 'block';

                var tx = e.clientX + 12;
                var ty = e.clientY - 50;
                if (tx + 220 > window.innerWidth) tx = e.clientX - 220;
                if (ty < 0) ty = e.clientY + 20;
                globalTooltip.style.left = tx + 'px';
                globalTooltip.style.top = ty + 'px';
            });

            container.addEventListener('mouseleave', function () {
                globalTooltip.style.display = 'none';
            });

            // è§¦æ‘¸æ”¯æŒ
            container.addEventListener('touchmove', function (e) {
                e.preventDefault();
                var touch = e.touches[0];
                var rect = container.getBoundingClientRect();
                var x = touch.clientX - rect.left;
                var ratio = x / rect.width;
                var idx = Math.floor(ratio * SLOT_COUNT);
                if (idx < 0) idx = 0;
                if (idx >= SLOT_COUNT) idx = SLOT_COUNT - 1;

                var slotTime = slotData.startTime + idx * SLOT_DURATION;
                var slotEndTime = slotTime + SLOT_DURATION;
                var status = slotData.slots[idx];
                var statusText = status === true ? 'âœ… åœ¨çº¿' : (status === false ? 'âŒ ç¦»çº¿' : 'â¬œ æ— æ•°æ®');

                globalTooltip.innerHTML =
                    formatTimestamp(slotTime) + ' ~ ' + formatTimestamp(slotEndTime) +
                    '<br>' + statusText;
                globalTooltip.style.display = 'block';
                globalTooltip.style.left = (touch.clientX + 12) + 'px';
                globalTooltip.style.top = (touch.clientY - 50) + 'px';
            }, { passive: false });

            container.addEventListener('touchend', function () {
                globalTooltip.style.display = 'none';
            });
        }

        function formatTimestamp(ts) {
            var d = new Date(ts);
            var pad = function (n) { return n < 10 ? '0' + n : '' + n; };
            return pad(d.getMonth() + 1) + '-' + pad(d.getDate()) +
                ' ' + pad(d.getHours()) + ':' + pad(d.getMinutes());
        }

        // =============================================
        // æ¸²æŸ“
        // =============================================
        function renderData(data) {
            if (!data || data.length === 0) {
                document.getElementById('app').innerHTML = '<div class="loading">æš‚æ— ç›‘æ§æ•°æ®</div>';
                return;
            }

            var domainMap = {};
            var totalCount = 0;
            var onlineCount = 0;
            var offlineCount = 0;

            for (var i = 0; i < data.length; i++) {
                var item = data[i];
                var domain = item.domain || 'æœªçŸ¥';
                if (!domainMap[domain]) domainMap[domain] = [];
                domainMap[domain].push(item);
                totalCount++;

                var lastAlive = getLastAlive(item.records);
                if (lastAlive === true) onlineCount++;
                else if (lastAlive === false) offlineCount++;
            }

            // æ‘˜è¦
            var summaryBar = document.getElementById('summary-bar');
            summaryBar.innerHTML =
                '<div class="summary-card total"><div class="number">' + totalCount + '</div><div class="label">ç›‘æ§æ€»æ•°</div></div>' +
                '<div class="summary-card online"><div class="number">' + onlineCount + '</div><div class="label">åœ¨çº¿</div></div>' +
                '<div class="summary-card offline"><div class="number">' + offlineCount + '</div><div class="label">ç¦»çº¿</div></div>';

            // åŸŸååˆ†ç»„
            var app = document.getElementById('app');
            var html = '';
            var domains = Object.keys(domainMap).sort();
            var timelineInfos = []; // è®°å½•éœ€è¦ç»˜åˆ¶çš„canvasä¿¡æ¯

            for (var d = 0; d < domains.length; d++) {
                var domainName = domains[d];
                var urls = domainMap[domainName];

                var domainOnline = 0;
                var domainOffline = 0;
                for (var u = 0; u < urls.length; u++) {
                    var la = getLastAlive(urls[u].records);
                    if (la === true) domainOnline++;
                    else if (la === false) domainOffline++;
                }

                // æ’åºï¼šç¦»çº¿çš„æ’å‰é¢
                urls.sort(function (a, b) {
                    var aAlive = getLastAlive(a.records);
                    var bAlive = getLastAlive(b.records);
                    if (aAlive === bAlive) return (a.path || '').localeCompare(b.path || '');
                    if (aAlive === false) return -1;
                    if (bAlive === false) return 1;
                    return 0;
                });

                html += '<div class="domain-section">';
                html += '<div class="domain-header" onclick="toggleDomain(this)">';
                html += '<div class="domain-left">';
                html += '<span class="arrow">â–¼</span>';
                html += '<span class="domain-name">' + escapeHtml(domainName) + '</span>';
                html += '</div>';
                html += '<div class="domain-stats">';
                if (domainOnline > 0) html += '<span class="badge badge-online">' + domainOnline + ' åœ¨çº¿</span>';
                if (domainOffline > 0) html += '<span class="badge badge-offline">' + domainOffline + ' ç¦»çº¿</span>';
                html += '</div>';
                html += '</div>';
                html += '<div class="domain-body">';

                for (var u = 0; u < urls.length; u++) {
                    var item = urls[u];
                    var alive = getLastAlive(item.records);
                    var statusClass = alive === true ? 'online' : (alive === false ? 'offline' : 'unknown');
                    var lastCheck = getLastCheckTime(item.records);
                    var uptime = calcUptime(item.records);
                    var uptimeClass = '';
                    if (uptime !== null) {
                        var uptimeVal = parseFloat(uptime);
                        if (uptimeVal < 90) uptimeClass = 'critical';
                        else if (uptimeVal < 99) uptimeClass = 'low';
                    }

                    var canvasId = 'canvas-' + d + '-' + u;
                    var slotData = buildSlots(item.records);
                    timelineInfos.push({ id: canvasId, slotData: slotData });

                    // æ—¶é—´æ ‡ç­¾
                    var now = Date.now();
                    var startTime = now - 7 * 24 * 60 * 60 * 1000;
                    var dayLabels = [];
                    for (var dl = 0; dl <= 7; dl++) {
                        var dt = new Date(startTime + dl * 24 * 60 * 60 * 1000);
                        var pad2 = function (n) { return n < 10 ? '0' + n : '' + n; };
                        dayLabels.push(pad2(dt.getMonth() + 1) + '-' + pad2(dt.getDate()));
                    }

                    html += '<div class="url-card">';
                    html += '<div class="url-card-top">';
                    html += '<div class="url-status-dot ' + statusClass + '"></div>';
                    html += '<div class="url-info">';
                    html += '<div class="url-path">' + escapeHtml(item.path || '/') + '</div>';
                    html += '<div class="url-full">' + escapeHtml(item.url) + '</div>';
                    html += '</div>';
                    html += '<div class="url-meta">';
                    if (uptime !== null) {
                        html += '<div class="url-uptime ' + uptimeClass + '">' + uptime + '%</div>';
                    }
                    html += '<div class="url-last-check">' + (lastCheck ? escapeHtml(lastCheck) : '-') + '</div>';
                    html += '</div>';
                    html += '</div>';

                    html += '<div class="timeline-wrapper">';
                    html += '<div class="timeline-canvas-container" id="container-' + canvasId + '">';
                    html += '<canvas id="' + canvasId + '"></canvas>';
                    html += '</div>';
                    html += '<div class="timeline-labels">';
                    for (var lb = 0; lb < dayLabels.length; lb++) {
                        html += '<span>' + dayLabels[lb] + '</span>';
                    }
                    html += '</div>';
                    html += '</div>';

                    html += '</div>';
                }

                html += '</div></div>';
            }

            app.innerHTML = html;

            // ç»˜åˆ¶æ‰€æœ‰canvas
            requestAnimationFrame(function () {
                for (var t = 0; t < timelineInfos.length; t++) {
                    var info = timelineInfos[t];
                    var canvas = document.getElementById(info.id);
                    if (canvas) {
                        var drawnData = drawTimeline(canvas, info.slotData);
                        var container = document.getElementById('container-' + info.id);
                        if (container) {
                            setupTimelineInteraction(container, drawnData);
                        }
                    }
                }
            });

            // æ›´æ–°æ—¶é—´
            var nowDate = new Date();
            document.getElementById('last-update').textContent = 'æ•°æ®åˆ·æ–°æ—¶é—´: ' + formatDate(nowDate) + ' Â· æ¯60ç§’è‡ªåŠ¨åˆ·æ–°';
        }

        function getLastAlive(records) {
            if (!records || records.length === 0) return null;
            return records[records.length - 1].alive;
        }

        function getLastCheckTime(records) {
            if (!records || records.length === 0) return null;
            return records[records.length - 1].check_time;
        }

        function formatDate(d) {
            var pad = function (n) { return n < 10 ? '0' + n : '' + n; };
            return d.getFullYear() + '-' + pad(d.getMonth() + 1) + '-' + pad(d.getDate()) +
                ' ' + pad(d.getHours()) + ':' + pad(d.getMinutes()) + ':' + pad(d.getSeconds());
        }

        // åˆå§‹åŠ è½½
        fetchStatus();

        // æ¯60ç§’è‡ªåŠ¨åˆ·æ–°
        setInterval(fetchStatus, 60000);

        // çª—å£å¤§å°å˜åŒ–æ—¶é‡ç»˜
        var resizeTimer;
        window.addEventListener('resize', function () {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(function () {
                fetchStatus();
            }, 300);
        });
    })();

    // åŸŸåæŠ˜å /å±•å¼€
    function toggleDomain(el) {
        var body = el.nextElementSibling;
        var arrow = el.querySelector('.arrow');
        if (body.style.display === 'none') {
            body.style.display = '';
            if (arrow) arrow.classList.remove('collapsed');
        } else {
            body.style.display = 'none';
            if (arrow) arrow.classList.add('collapsed');
        }
    }
</script>
</body>
</html>